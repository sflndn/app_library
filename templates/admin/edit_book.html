{% extends "../base.html" %}

{% block content %}
<h1>Редактировать книгу: {{ book.title }}</h1>

<div style="max-width: 600px; margin: 0 auto; background: white; padding: 2rem; border-radius: 8px;">
    <form method="post" action="/admin/books/{{ book.id }}/edit">
        <div style="margin-bottom: 1rem;">
            <label>Название:</label>
            <input type="text" name="title" value="{{ book.title }}"
                   required style="width: 100%; padding: 0.5rem;">
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Автор:</label>
            <input type="text" name="author" value="{{ book.author }}"
                   required style="width: 100%; padding: 0.5rem;">
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Год издания:</label>
            <input type="number" name="year" value="{{ book.year }}"
                   min="1000" max="2025" required style="width: 100%; padding: 0.5rem;">
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Жанр:</label>
            <input type="text" name="genre" value="{{ book.genre }}"
                   required style="width: 100%; padding: 0.5rem;">
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Описание:</label>
            <textarea name="description" style="width: 100%; padding: 0.5rem; height: 100px;">{{ book.description or '' }}</textarea>
        </div>

        <div style="margin-bottom: 1.5rem;">
            <label>
                <input type="checkbox" name="is_available" value="true" {% if book.is_available %}checked{% endif %}>
                Книга доступна
            </label>
        </div>

        <div class="book-actions">
            <button type="submit" class="btn btn-success">Сохранить изменения</button>
            <a href="/admin/books" class="btn btn-secondary">Отмена</a>
            <a href="/admin/books/{{ book.id }}/delete" class="btn btn-danger"
               onclick="return confirm('Вы уверены, что хотите удалить эту книгу?')">Удалить книгу</a>
        </div>
    </form>
</div>
{% endblock %}